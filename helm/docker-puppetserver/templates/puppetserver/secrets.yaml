---
apiVersion: v1
data:
  ssh-privatekey: {{ .Values.github_deploy_key | b64enc }}
kind: Secret
metadata:
  name: github-deploy-key
type: kubernetes.io/ssh-auth

---
apiVersion: v1
data:
  puppetmaster.cegeka.be.crt: {{ .Values.puppetmaster_crt | b64enc }}
  puppetmaster.cegeka.be.key: {{ .Values.puppetmaster_key | b64enc }}
  puppetmaster.cegeka.be.ca_crt: {{ .Values.puppetmaster_ca_crt | b64enc }}
kind: Secret
metadata:
  name: certificates
type: Opaque

---
apiVersion: v1
data:
  thycotic.conf: {{ tpl ($.Files.Get "files/puppet/thycotic.conf") $ | b64enc | indent 4 }}
kind: Secret
metadata:
  name: thycotic.conf
type: Opaque


---
apiVersion: v1
data:
  MYSQL_HOST: {{ .Values.autosigning_mysql_host | b64enc }}
  MYSQL_USER: {{ .Values.autosigning_mysql_user | b64enc }}
  MYSQL_PASSWORD: {{ .Values.autosigning_mysql_password | b64enc }}
  MYSQL_DATABASE: {{ .Values.autosigning_mysql_database | b64enc }}
  MYSQL_PORT: {{ .Values.autosigning_mysql_port | b64enc }}
  MYSQL_FLAG: {{ .Values.autosigning_mysql_flag | b64enc }}
kind: Secret
metadata:
  name: autosigning-credentials.yaml
type: Opaque
